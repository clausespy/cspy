
<!-- index.html - The Frontend User Interface -->\
\
<!DOCTYPE html>\
<html lang="en">\
<head>\
    <meta charset="UTF-8">\
    <meta name="viewport" content="width=device-width, initial-scale=1.0">\
    <title>AI Contract Analyzer</title>\
    <style>\
        body \{ font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: #f4f7f9; margin: 20px; color: #333; \}\
        .container \{ max-width: 800px; margin: auto; \}\
        h1, h2 \{ color: #1a202c; \}\
        textarea, input \{ width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ccc; margin-bottom: 10px; font-size: 1rem; \}\
        button \{ width: 100%; padding: 15px; border: none; border-radius: 8px; background-color: #007aff; color: white; font-size: 1.2rem; cursor: pointer; \}\
        button:hover \{ background-color: #0056b3; \}\
        .card \{ background-color: #fff; border-radius: 12px; padding: 24px; margin-top: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); \}\
        .hidden \{ display: none; \}\
        .loader \{ text-align: center; font-size: 1.5rem; padding: 40px; \}\
        .risk-high \{ border-left: 5px solid #ef4444; \}\
        .risk-medium \{ border-left: 5px solid #f59e0b; \}\
    </style>\
</head>\
<body>\
\
    <div class="container">\
        <h1>AI Contract Analyzer</h1>\
        <p>Paste your contract text below, add a specific question, and get an instant analysis.</p>\
\
        <textarea id="contractText" rows="10" placeholder="Paste the full text of your contract here..."></textarea>\
        <input type="text" id="userQuery" placeholder="Optional: What do you want to achieve? (e.g., 'how to terminate')">\
        <button id="analyzeButton">Analyze My Contract</button>\
\
        <div id="loader" class="loader hidden">Analyzing... Please wait.</div>\
\
        <div id="results" class="hidden">\
            <div id="summaryCard" class="card">\
                <h2>Plain English Summary</h2>\
                <p id="summaryText"></p>\
            </div>\
            <div id="risksCard" class="card">\
                <h2>Potential Risks & Loopholes</h2>\
                <div id="risksList"></div>\
            </div>\
            <div id="advantagesCard" class="card">\
                <h2>Your Advantages</h2>\
                <div id="advantagesList"></div>\
            </div>\
        </div>\
    </div>\
\
    <script>\
        // JavaScript to connect the frontend to the backend\
        const analyzeButton = document.getElementById('analyzeButton');\
        const loader = document.getElementById('loader');\
        const resultsDiv = document.getElementById('results');\
\
        // IMPORTANT: Replace this with your actual backend URL after deploying it on Render.\
        const BACKEND_URL = 'https://YOUR_BACKEND_SERVICE_NAME.onrender.com/analyze';\
\
        analyzeButton.addEventListener('click', async () => \{\
            const contractText = document.getElementById('contractText').value;\
            const userQuery = document.getElementById('userQuery').value;\
\
            if (!contractText) \{\
                alert('Please paste some contract text to analyze.');\
                return;\
            \}\
\
            // Show loader and hide old results\
            loader.classList.remove('hidden');\
            resultsDiv.classList.add('hidden');\
\
            try \{\
                const response = await fetch(BACKEND_URL, \{\
                    method: 'POST',\
                    headers: \{ 'Content-Type': 'application/json' \},\
                    body: JSON.stringify(\{ contract_text: contractText, user_query: userQuery \})\
                \});\
\
                if (!response.ok) \{\
                    throw new Error(`HTTP error! status: $\{response.status\}`);\
                \}\
\
                const data = await response.json();\
\
                // Populate results\
                document.getElementById('summaryText').innerText = data.summary;\
\
                const risksList = document.getElementById('risksList');\
                risksList.innerHTML = '';\
                data.risks.forEach(risk => \{\
                    const riskDiv = document.createElement('div');\
                    riskDiv.innerHTML = `<p><strong>$\{risk.title\} ($\{risk.level\} Risk):</strong> $\{risk.explanation\}</p>`;\
                    risksList.appendChild(riskDiv);\
                \});\
\
                const advantagesList = document.getElementById('advantagesList');\
                advantagesList.innerHTML = '';\
                data.advantages.forEach(advantage => \{\
                    const advantageDiv = document.createElement('div');\
                    advantageDiv.innerHTML = `<p><strong>Clause $\{advantage.clause\}:</strong> $\{advantage.finding\}</p>`;\
                    advantagesList.appendChild(advantageDiv);\
                \});\
\
                // Hide loader and show new results\
                loader.classList.add('hidden');\
                resultsDiv.classList.remove('hidden');\
\
            \} catch (error) \{\
                loader.classList.add('hidden');\
                alert('An error occurred. Please check the backend URL and try again. Error: ' + error.message);\
            \}\
        \});\
    </script>\
\
</body>\
</html>\
}
